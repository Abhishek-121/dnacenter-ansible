version: 2.1


jobs:
  build:
    
    parameters: 
      ansible_cisco_dnac_version:
        type: string
        default: "6.9.0"

    machine: true
    resource_class: rukapse/dnacenter-ansible
    
    steps:
      - run:
          name: Debug Information
          command: |
            echo "CIRCLE_PROJECT_USERNAME: $CIRCLE_PROJECT_USERNAME"
            echo "CIRCLE_PROJECT_REPONAME: $CIRCLE_PROJECT_REPONAME"
            echo "Cloning repository..."
            git clone --depth=1 https://github.com/$CIRCLE_PROJECT_USERNAME/$CIRCLE_PROJECT_REPONAME.git
            cd $CIRCLE_PROJECT_REPONAME
            git rev-parse HEAD

workflows:
  testing:
    jobs:
      - build